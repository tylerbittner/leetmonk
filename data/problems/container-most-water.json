{
  "id": "container-most-water",
  "title": "Container With Most Water",
  "difficulty": "medium",
  "tags": ["array", "two-pointers", "greedy"],
  "description": "## Container With Most Water\n\nYou are designing a solar-powered water collection system. Vertical panels are placed at various positions along a track, and rain collects between any two panels. The amount of water held between panels at position `i` and `j` (with heights `heights[i]` and `heights[j]`) is limited by the shorter panel and their distance apart.\n\nGiven an integer array `heights` of length `n`, where `heights[i]` represents the height of the panel at position `i`, find two panels that together with the x-axis form a container that holds **the most water**.\n\nReturn the **maximum amount of water** the container can store.\n\n**Constraints:**\n- `n == heights.length`\n- `2 <= n <= 10^5`\n- `0 <= heights[i] <= 10^4`",
  "examples": [
    {
      "input": "heights = [1, 8, 6, 2, 5, 4, 8, 3, 7]",
      "output": "49",
      "explanation": "The panels at index 1 (height 8) and index 8 (height 7) hold min(8,7) * (8-1) = 7 * 7 = 49 units of water."
    },
    {
      "input": "heights = [1, 1]",
      "output": "1",
      "explanation": "Only two panels: min(1,1) * 1 = 1."
    }
  ],
  "exampleCases": [
    {
      "input": {"heights": [1, 8, 6, 2, 5, 4, 8, 3, 7]},
      "expected": 49,
      "explanation": "Panels at index 1 and 8"
    },
    {
      "input": {"heights": [1, 1]},
      "expected": 1,
      "explanation": "Minimum case"
    },
    {
      "input": {"heights": [4, 3, 2, 1, 4]},
      "expected": 16,
      "explanation": "Panels at index 0 and 4: min(4,4)*4=16"
    },
    {
      "input": {"heights": [1, 2, 1]},
      "expected": 2,
      "explanation": "Index 0 and 2: min(1,1)*2=2"
    }
  ],
  "hiddenCases": [
    {
      "input": {"heights": [1, 0]},
      "expected": 0,
      "explanation": "Zero height panel"
    },
    {
      "input": {"heights": [0, 0]},
      "expected": 0,
      "explanation": "Both zero"
    },
    {
      "input": {"heights": [10000, 10000]},
      "expected": 10000,
      "explanation": "Maximum height, minimal distance"
    },
    {
      "input": {"heights": [1, 2, 3, 4, 5]},
      "expected": 6,
      "explanation": "Increasing heights: index 0 and 4 => min(1,5)*4=4, index 1 and 4 => min(2,5)*3=6"
    },
    {
      "input": {"heights": [5, 4, 3, 2, 1]},
      "expected": 6,
      "explanation": "Decreasing heights: index 0 and 4 => min(5,1)*4=4, index 0 and 3 => min(5,2)*3=6"
    },
    {
      "input": {"heights": [2, 3, 10, 5, 7, 8, 9]},
      "expected": 36,
      "explanation": "Index 2 and 6: min(10,9)*4=36"
    },
    {
      "input": {"heights": [1, 8, 100, 2, 100, 4, 8, 3, 7]},
      "expected": 200,
      "explanation": "Index 2 and 4: min(100,100)*2=200"
    },
    {
      "input": {"heights": [3, 1, 2, 4, 3]},
      "expected": 12,
      "explanation": "Index 0 and 3: min(3,4)*3=9, index 0 and 4: min(3,3)*4=12"
    },
    {
      "input": {"heights": [0, 2]},
      "expected": 0,
      "explanation": "One panel with height 0"
    },
    {
      "input": {"heights": [5, 5, 5, 5, 5]},
      "expected": 20,
      "explanation": "All same: index 0 and 4 => 5*4=20"
    },
    {
      "input": {"heights": [1, 3, 2, 5, 25, 24, 5]},
      "expected": 24,
      "explanation": "Index 4 and 5: min(25,24)*1=24"
    }
  ],
  "starterCode": {
    "python": "from typing import List\n\ndef max_water(heights: List[int]) -> int:\n    pass"
  },
  "functionName": "max_water",
  "solutions": [
    {
      "label": "Brute Force — O(n²)",
      "approach": "obvious",
      "language": "python",
      "code": "from typing import List\n\ndef max_water(heights: List[int]) -> int:\n    max_vol = 0\n    n = len(heights)\n    for i in range(n):\n        for j in range(i + 1, n):\n            vol = min(heights[i], heights[j]) * (j - i)\n            if vol > max_vol:\n                max_vol = vol\n    return max_vol",
      "timeComplexity": "O(n²)",
      "spaceComplexity": "O(1)",
      "explanation": "Try every pair of panels (i, j). Water volume = min(heights[i], heights[j]) * (j - i). Track the maximum."
    },
    {
      "label": "Two Pointers — O(n)",
      "approach": "optimal",
      "language": "python",
      "code": "from typing import List\n\ndef max_water(heights: List[int]) -> int:\n    left, right = 0, len(heights) - 1\n    max_vol = 0\n    while left < right:\n        vol = min(heights[left], heights[right]) * (right - left)\n        max_vol = max(max_vol, vol)\n        if heights[left] <= heights[right]:\n            left += 1\n        else:\n            right -= 1\n    return max_vol",
      "timeComplexity": "O(n)",
      "spaceComplexity": "O(1)",
      "explanation": "Start with the widest container (left=0, right=n-1). The bottleneck is always the shorter panel. Move the shorter panel inward — any other move would only decrease width without any guaranteed height gain. This greedy choice finds the optimal pair."
    }
  ],
  "hints": [
    "The amount of water is determined by the shorter of the two panels and their distance.",
    "Start with the widest possible container. Which pointer should you move inward and why?"
  ],
  "lcEquivalent": "11. Container With Most Water"
}
