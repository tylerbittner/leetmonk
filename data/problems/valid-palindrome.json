{
  "id": "valid-palindrome",
  "title": "Valid Palindrome",
  "difficulty": "easy",
  "tags": [
    "two-pointers",
    "string"
  ],
  "description": "## Valid Palindrome\n\nYou are building a text normalization tool for a message archiving system. Before checking if a message reads the same forwards and backwards, you must strip away all punctuation, spaces, and special characters \u2014 only letters and numbers matter. Case differences should also be ignored.\n\nGiven a string `s`, return `true` if it is a **palindrome** after converting all uppercase letters to lowercase and removing all non-alphanumeric characters, and `false` otherwise.\n\n**Constraints:**\n- `1 <= s.length <= 2 * 10^5`\n- `s` consists only of printable ASCII characters.",
  "examples": [
    {
      "input": "s = \"A man, a plan, a canal: Panama\"",
      "output": "true",
      "explanation": "After filtering: \"amanaplanacanalpanama\", which is a palindrome."
    },
    {
      "input": "s = \"race a car\"",
      "output": "false",
      "explanation": "After filtering: \"raceacar\", which is not a palindrome."
    },
    {
      "input": "s = \" \"",
      "output": "true",
      "explanation": "After filtering: empty string \"\", which is a palindrome."
    }
  ],
  "exampleCases": [
    {
      "input": {
        "s": "A man, a plan, a canal: Panama"
      },
      "expected": true,
      "explanation": "Classic palindrome with punctuation"
    },
    {
      "input": {
        "s": "race a car"
      },
      "expected": false,
      "explanation": "Not a palindrome"
    },
    {
      "input": {
        "s": " "
      },
      "expected": true,
      "explanation": "Empty after filtering"
    },
    {
      "input": {
        "s": "No lemon, no melon"
      },
      "expected": true,
      "explanation": "Another classic palindrome phrase"
    }
  ],
  "hiddenCases": [
    {
      "input": {
        "s": "a"
      },
      "expected": true,
      "explanation": "Single character"
    },
    {
      "input": {
        "s": "aa"
      },
      "expected": true,
      "explanation": "Two same characters"
    },
    {
      "input": {
        "s": "ab"
      },
      "expected": false,
      "explanation": "Two different characters"
    },
    {
      "input": {
        "s": "0P"
      },
      "expected": false,
      "explanation": "Zero and P: '0p' != '0p' reversed 'p0'"
    },
    {
      "input": {
        "s": "aba"
      },
      "expected": true,
      "explanation": "Simple palindrome"
    },
    {
      "input": {
        "s": "Was it a car or a cat I saw"
      },
      "expected": true,
      "explanation": "Palindrome sentence"
    },
    {
      "input": {
        "s": "Hello, World!"
      },
      "expected": false,
      "explanation": "Not palindrome"
    },
    {
      "input": {
        "s": "12321"
      },
      "expected": true,
      "explanation": "Numeric palindrome"
    },
    {
      "input": {
        "s": ".,"
      },
      "expected": true,
      "explanation": "Only punctuation, empty after filter"
    },
    {
      "input": {
        "s": "A1b2b1a"
      },
      "expected": true,
      "explanation": "Mixed alphanumeric palindrome"
    },
    {
      "input": {
        "s": "Madam, I'm Adam"
      },
      "expected": true,
      "explanation": "Another palindrome phrase"
    }
  ],
  "starterCode": {
    "python": "def is_palindrome(s: str) -> bool:\n    pass"
  },
  "functionName": "is_palindrome",
  "solutions": [
    {
      "label": "Filter then Check \u2014 O(n)",
      "approach": "obvious",
      "language": "python",
      "code": "def is_palindrome(s: str) -> bool:\n    filtered = [c.lower() for c in s if c.isalnum()]\n    return filtered == filtered[::-1]",
      "timeComplexity": "O(n)",
      "spaceComplexity": "O(n)",
      "explanation": "Filter out non-alphanumeric characters, convert to lowercase, then compare the resulting list with its reverse. Simple and readable but creates extra lists."
    },
    {
      "label": "Two Pointers \u2014 O(n)",
      "approach": "optimal",
      "language": "python",
      "code": "def is_palindrome(s: str) -> bool:\n    left, right = 0, len(s) - 1\n    while left < right:\n        while left < right and not s[left].isalnum():\n            left += 1\n        while left < right and not s[right].isalnum():\n            right -= 1\n        if s[left].lower() != s[right].lower():\n            return False\n        left += 1\n        right -= 1\n    return True",
      "timeComplexity": "O(n)",
      "spaceComplexity": "O(1)",
      "explanation": "Use two pointers starting from each end. Skip non-alphanumeric characters from both sides. Compare the characters at the pointers case-insensitively. If they ever differ, return False. This avoids creating any extra data structures."
    }
  ],
  "hints": [
    "Start with a pointer at each end and skip non-alphanumeric characters.",
    "Compare characters case-insensitively and move inward."
  ],
  "lcEquivalent": "125. Valid Palindrome"
}